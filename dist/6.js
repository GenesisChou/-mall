webpackJsonp([6],{100:function(t,e,r){e=t.exports=r(39)(),e.push([t.i,".load-more[data-v-409b263f]{height:1.2rem}.search-box[data-v-409b263f]{padding:.22667rem .4rem;position:fixed}.fill[data-v-409b263f]{height:1.33333rem}.sort[data-v-409b263f]{border-top:1px solid #c8c8c8;border-bottom:1px solid #c8c8c8;height:1.4rem}.arrows[data-v-409b263f]{line-height:.24rem;font-size:.24rem;margin-left:.13333rem}",""])},125:function(t,e,r){var a=r(100);"string"==typeof a&&(a=[[t.i,a,""]]);r(40)(a,{});a.locals&&(t.exports=a.locals)},157:function(t,e,r){"use strict";var a=r(5),s=r(85),i=r.n(s),o=r(66),n=r.n(o),c=r(64),d=r.n(c),l=r(12),p=r.n(l);e.default={name:"product_list",components:{vListItem:n.a,vSearch:i.a,vBackTop:d.a,vSpinner:p.a},data:function(){return{product_list:"",params:{sword:"",p:1,r:APP.PERPAGE,total:0,count:0,token:APP.TOKEN,userid:APP.USER_ID,_order:""},sort_type:""}},mounted:function(){this.getProductList(),a.a.getScrollData(this.product_list,this.params,this.getProductList)},methods:{getProductList:function(t){var e=this;this.searchProduct(this.params,function(r){t&&t();var a=e.product_list;e.params.p<=1&&(e.params.total=r.data.total,e.params.count=r.data.count),e.product_list=r.data.list.concat(a)})},searchProduct:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params,r=arguments[1];this.$store.dispatch("toggleLoading",{show:!0}),this.$http.post(APP.HOST+"/all_product",e).then(function(e){var a=e.data;t.$store.dispatch("toggleLoading"),r?r(a):t.product_list=a.data.list},function(e){t.$store.dispatch("toggleLoading")})},initParams:function(){var t=this.params.sword;this.params={sword:t,p:1,r:APP.PERPAGE,total:0,count:0,token:APP.TOKEN,userid:APP.USER_ID,_order:""}},sortByIntegral:function(){var t=this;this.initParams(),"integral-up"==this.sort_type?(this.sort_type="integral-down",this.params._order="integral:DESC"):(this.sort_type="integral-up",this.params._order="integral:ASC"),this.getProductList(function(){t.product_list=[]})},sortByCount:function(){var t=this;this.initParams(),this.params._order="used_count:DESC","count"!=this.sort_type&&(this.sort_type="count",this.getProductList(function(){t.product_list=[]}))}}}},180:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"product-list"},[t._h("div",{staticClass:"search-box bg-base"},[t._h("v-search",{attrs:{search:t.searchProduct,params:t.params}})])," ",t._m(0)," ",t._h("div",{staticClass:"sort flex"},[t._h("div",{staticClass:"flex-item text-huge flex flex-center-h flex-center-v",on:{click:t.sortByIntegral}},[t._h("span",{class:["count"!=t.sort_type&&t.sort_type?"text-red":""]},["消耗积分排序"])," ",t._h("div",{staticClass:"arrows flex flex-column "},[t._h("i",{class:["icon-arrows-up","iconfont","text-bold","integral-up"==t.sort_type?"text-red":""]})," ",t._h("i",{class:["icon-arrows-down","iconfont","text-bold","integral-down"==t.sort_type?"text-red":""]})])])," ",t._h("div",{class:["flex-item","text-huge","flex","flex-center-h","flex-center-v","count"==t.sort_type?"text-red":""],on:{click:t.sortByCount}},["\n            兑换量优先\n        "])])," ",t._l(t.product_list,function(e){return t._h("router-link",{attrs:{to:{name:"product_detail",query:{product_id:e.id}}}},[t._h("v-list-item",{attrs:{title:e.name,"title-dupty":parseInt(e.integral)+"积分",img:e.pic_thumb,color:"text-red"}})])})," ",t._h("v-back-top")])},staticRenderFns:[function(){var t=this;return t._h("div",{staticClass:"fill"})}]}},47:function(t,e,r){var a,s;r(125),a=r(157);var i=r(180);s=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(s=a=a.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,s._scopeId="data-v-409b263f",t.exports=a},50:function(t,e,r){e=t.exports=r(39)(),e.push([t.i,".v-list-item[data-v-4e3430e2]{height:2.93333rem;border-bottom:1px solid #c8c8c8}.v-list-item .img[data-v-4e3430e2]{width:2.4rem;height:1.86667rem;margin:0 .66667rem 0 .74667rem}.v-list-item .describe .text-huge[data-v-4e3430e2]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-bottom:.13333rem}",""])},52:function(t,e,r){e=t.exports=r(39)(),e.push([t.i,".v-back-top[data-v-e187f5c2]{position:fixed;right:.66667rem;bottom:.66667rem;width:.93333rem;height:.93333rem;border-radius:50%;border:2px solid #f06870;-webkit-transition:opacity .3s linear;transition:opacity .3s linear;box-shadow:.06667rem .06667rem .06667rem #c8c8c8}",""])},56:function(t,e,r){var a=r(50);"string"==typeof a&&(a=[[t.i,a,""]]);r(40)(a,{});a.locals&&(t.exports=a.locals)},58:function(t,e,r){var a=r(52);"string"==typeof a&&(a=[[t.i,a,""]]);r(40)(a,{});a.locals&&(t.exports=a.locals)},59:function(t,e,r){"use strict";var a=r(5);e.default={name:"back_top",data:function(){return{show:!1}},methods:{backTop:function(){var t=a.a.getScrollTop(),e=window.setInterval(function(){t>=0?(t-=150,window.scrollTo(0,t)):window.clearInterval(e)},10)}},created:function(){var t=this;window.addEventListener("scroll",function(){t.show=a.a.getScrollTop()>1e3})}}},61:function(t,e,r){"use strict";e.default={name:"v-list-item",props:{title:{type:String,default:""},titleDupty:{type:String,default:""},color:{type:String,default:"text-gray"},img:{type:String,default:""}}}},64:function(t,e,r){var a,s;r(58),a=r(59);var i=r(73);s=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(s=a=a.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,s._scopeId="data-v-e187f5c2",t.exports=a},66:function(t,e,r){var a,s;r(56),a=r(61);var i=r(71);s=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(s=a=a.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,s._scopeId="data-v-4e3430e2",t.exports=a},71:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"v-list-item flex flex-center-v  bg-white"},[t._h("img",{staticClass:"img",attrs:{src:t.img}})," ",t._h("div",{staticClass:"describe flex-item"},[t._h("div",{staticClass:"text-huge "},[t._s(t.title)])," ",t._h("p",{class:t.color},[t._s(t.titleDupty)])])])},staticRenderFns:[]}},73:function(t,e){t.exports={render:function(){var t=this;return t._h("transition",{attrs:{name:"fade"}},[t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"flex flex-center-h flex-center-v v-back-top bg-white text-huge bg-red text-white",on:{click:t.backTop}},[t._h("i",{staticClass:" icon-arrows-up iconfont text-small"})])])},staticRenderFns:[]}},75:function(t,e,r){e=t.exports=r(39)(),e.push([t.i,".v-search[data-v-4e1eadca]{width:9.2rem;height:.88rem;border-radius:.06667rem}.v-search input[data-v-4e1eadca]{flex:1;border:0;padding:0 .36rem}.v-search input[type=search][data-v-4e1eadca]::-webkit-search-cancel-button{display:none}.v-search .iconfont[data-v-4e1eadca]{font-size:130%;padding-right:.58667rem}",""])},78:function(t,e,r){var a=r(75);"string"==typeof a&&(a=[[t.i,a,""]]);r(40)(a,{});a.locals&&(t.exports=a.locals)},82:function(t,e,r){"use strict";e.default={name:"search",props:{placeholder:{type:String,default:"请输入关键字进行过滤"},search:Function,params:Object}}},85:function(t,e,r){var a,s;r(78),a=r(82);var i=r(87);s=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(s=a=a.default),"function"==typeof s&&(s=s.options),s.render=i.render,s.staticRenderFns=i.staticRenderFns,s._scopeId="data-v-4e1eadca",t.exports=a},87:function(t,e){t.exports={render:function(){var t=this;return t._h("form",{staticClass:"v-search flex flex-center-v bg-white",on:{submit:function(t){t.preventDefault()}}},[t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.params.sword,expression:"params.sword"}],staticClass:"text-sliver text-large",attrs:{type:"search",placeholder:t.placeholder},domProps:{value:t._s(t.params.sword)},on:{keyup:function(e){13===e.keyCode&&t.search()},input:function(e){e.target.composing||(t.params.sword=e.target.value)}}})," ",t._h("i",{staticClass:"iconfont icon-search text-sliver text-large",on:{click:function(e){t.search()}}})])},staticRenderFns:[]}}});