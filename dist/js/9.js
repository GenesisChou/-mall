webpackJsonp([9],{160:function(e,t,r){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"myAccount",data:function(){return{params:{p:1,r:e.PERPAGE,total:0,token:e.TOKEN,userid:e.USER_ID,media_id:e.MEDIA_ID},integral_list:[]}},filters:{pointFormat:function(e){return e>>=0,e>0?"+"+e:e}},computed:{user:function(){return this.$store.state.user}},mounted:function(){var e=this;this.getIntegralList();var t=this.$refs.list,i=!0;t.addEventListener("scroll",r.debounce(function(){i&&e.params.p<e.params.total&&t.clientHeight+t.scrollTop>=t.scrollHeight-100&&(i=!1,e.params.p++,e.getIntegralList().then(function(){i=!0}))},500,500))},methods:{getIntegralList:function(){var t=this;return new Promise(function(r){t.$http.post(e.HOST+"/integral_list/"+e.USER_ID,t.params).then(function(e){var i=e.data;t.integral_list=t.integral_list.concat(i.data.list),t.params.total=i.data.total,r&&r()},function(e){})})}}}}).call(t,r(3),r(5))},219:function(e,t,r){t=e.exports=r(0)(),t.push([e.i,".header[data-v-7e21b60f]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:5.30667rem;background-color:#fff;background-image:url("+r(335)+");background-repeat:no-repeat;background-size:100%;color:#fff;text-align:center}.header .avater[data-v-7e21b60f]{background-color:#f4f4f4;border-radius:50%;width:1.78667rem;height:1.78667rem;margin-bottom:.13333rem;overflow:hidden;border:.08rem solid #f4f4f4}.header .edit-user[data-v-7e21b60f]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:2.89333rem;height:.88rem;margin-top:.26667rem;color:#fff;background-color:hsla(0,0%,100%,.35);border-radius:.44rem;border:1px solid #fff}.header .edit-user[data-v-7e21b60f]:active{opacity:.9}.block-text[data-v-7e21b60f]{line-height:1.17333rem;text-align:center;background-color:#fff;color:#ff5000;border-bottom:1px solid #d4d4d6}.record-list[data-v-7e21b60f]{position:absolute;top:6.77333rem;left:0;right:0;bottom:1.46667rem;z-index:1;padding:0 .4rem;overflow:scroll;-webkit-overflow-scrolling:touch;background-color:#fff}.record-list[data-v-7e21b60f]::-webkit-scrollbar{display:none}.record-list li[data-v-7e21b60f]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:1.33333rem;list-style:none}.record-list h3[data-v-7e21b60f]{color:#646565}.record-list h6[data-v-7e21b60f]{color:#a9aaae}.record-list span[data-v-7e21b60f]{font-size:.4rem;color:#646565}",""])},23:function(e,t,r){"use strict";e.exports=r(365)},256:function(e,t,r){var i=r(219);"string"==typeof i&&(i=[[e.i,i,""]]);r(1)(i,{});i.locals&&(e.exports=i.locals)},335:function(e,t,r){e.exports=r.p+"images/myAccountBackground.e1b7d928319f33f3e9acd5f10ce9ffb3.png"},365:function(e,t,r){r(256);var i=r(2)(r(160),r(403),"data-v-7e21b60f",null);e.exports=i.exports},403:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-account "},[r("header",{staticClass:"header"},[r("div",{staticClass:"avater"},[r("img",{staticClass:"img-responsive",attrs:{src:e.user.headimg}})]),e._v(" "),r("p",[e._v(e._s(e.user.nickname))]),e._v(" "),r("p",[e._v("积分: "+e._s(e.user.integral>>0))]),e._v(" "),r("router-link",{staticClass:"edit-user",attrs:{to:{name:"edit_user"},tag:"div"}},[1==e.user.is_submit?[e._v("修改资料")]:[e._v("完善资料赚积分")]],2)],1),e._v(" "),r("h4",{staticClass:"block-text"},[e._v("\n        积分明细\n    ")]),e._v(" "),r("main",[r("ul",{ref:"list",staticClass:"record-list"},e._l(e.integral_list,function(t){return r("li",[r("div",{staticClass:"pull-left"},[r("h3",[e._v(e._s(t.name))]),e._v(" "),r("h6",[e._v(" "+e._s(t.create_time)+" ")])]),e._v(" "),r("span",{staticClass:"pull-right"},[e._v(e._s(e._f("pointFormat")(t.point))+" ")])])}))])])},staticRenderFns:[]}}});