webpackJsonp([5],{138:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{order:Object,img:String,id:String,integral:Number,name:String,hasBorder:{type:Boolean,default:!1},active:{type:Boolean,default:!1}}}},145:function(t,e,o){e=t.exports=o(0)(),e.push([t.i,".v-order.active:active .v-order-footer[data-v-f814f31c],.v-order.active:active .v-order-header[data-v-f814f31c],.v-order.active:active .v-order-main[data-v-f814f31c]{background-color:#fafafa}.v-order-header[data-v-f814f31c]{padding-left:.3rem;line-height:.76rem;font-size:.24rem;color:#646565;background-color:#fff}.v-order-header .iconfont[data-v-f814f31c]{font-size:.3rem;margin-right:.12rem;vertical-align:middle}.v-order-main[data-v-f814f31c]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:1.55rem;border-top:1px solid #f2f3f4;padding:0 .3rem;background-color:#fff}.v-order-main.border[data-v-f814f31c]{border-bottom:1px solid #d3d4d6}.v-order-main .pic[data-v-f814f31c]{width:1.33rem;height:1.33rem}.v-order-main .describe[data-v-f814f31c]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:80%;padding-left:.25rem}.v-order-main .describe h2[data-v-f814f31c]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;height:.6rem;line-height:.6rem;color:#3d4244;font-size:.34rem}.v-order-main .describe p[data-v-f814f31c]{color:#a9aaae;font-size:.24rem}.v-order-main .describe span[data-v-f814f31c]{float:right}",""])},148:function(t,e,o){var a=o(145);"string"==typeof a&&(a=[[t.i,a,""]]);o(2)(a,{});a.locals&&(t.exports=a.locals)},150:function(t,e,o){o(148);var a=o(1)(o(138),o(154),"data-v-f814f31c",null);t.exports=a.exports},154:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["v-order",{active:t.active}]},[o("header",{staticClass:"v-order-header"},[o("i",{staticClass:"iconfont  icon-order"}),t._v(" 订单号："+t._s(t.id)+"\n    ")]),t._v(" "),o("main",{class:["v-order-main",{border:t.hasBorder}]},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"img"}],staticClass:"pic"}),t._v(" "),o("div",{staticClass:"describe"},[o("h2",[t._v(t._s(t.name))]),t._v(" "),o("p",[t._v(" "+t._s(t.integral)+"积分\n                "),o("span",[t._v("x1")])])])]),t._v(" "),o("footer",[t._t("default")],2)])},staticRenderFns:[]}},218:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var a=o(150),i=o.n(a);e.default={name:"orderDetail",components:{vOrder:i.a,vLogistics:function(t){o.e(39).then(function(){var e=[o(257)];t.apply(null,e)}.bind(this)).catch(o.oe)},vAddressEdit:function(t){o.e(34).then(function(){var e=[o(151)];t.apply(null,e)}.bind(this)).catch(o.oe)},vIntroduction:function(t){o.e(12).then(function(){var e=[o(160)];t.apply(null,e)}.bind(this)).catch(o.oe)},vAnnouncement:function(t){o.e(51).then(function(){var e=[o(554)];t.apply(null,e)}.bind(this)).catch(o.oe)},vTicket:function(t){o.e(38).then(function(){var e=[o(259)];t.apply(null,e)}.bind(this)).catch(o.oe)},vRecharge:function(t){o.e(36).then(function(){var e=[o(258)];t.apply(null,e)}.bind(this)).catch(o.oe)},vAddressSelect:function(t){o.e(27).then(function(){var e=[o(553)];t.apply(null,e)}.bind(this)).catch(o.oe)}},data:function(){return{order_id:"",order_detail:{},product_detail:{},product_id:"",product_type:"",send_type:"",popup_edit:!1,popup_select:!1,loaded:!1,take_code:"",content_show:!1}},computed:{is_virtual:function(){return this.product_type&&2!==this.product_type},address_list:function(){return this.$store.state.address_list||[]},order_checked:function(){return 1!==this.order_detail.status},default_address:function(){var t={province:"",city:"",country:"",address:"",phone:"",contact:""};return 1!==this.send_type?t:(1===this.order_detail.status?this.address_list.forEach(function(e){if(1===e.is_defaults)return void(t=e)}):(t.contact=this.order_detail.contact,t.phone=this.order_detail.phone,t.province=this.order_detail.province,t.city=this.order_detail.city,t.country=this.order_detail.country,t.address=this.order_detail.address),t)}},watch:{order_id:function(){var t=this;this.content_show=!1,this.getOrderDetail().then(function(){var e=t.order_detail;t.product_id=e.product_id,t.product_type=e.product_type,t.send_type=e.send_type,t.getProductDetail().then(function(){t.content_show=!0})})},send_type:function(t){1===t&&2===this.product_type&&1===this.order_detail.status&&this.$store.dispatch("getAddressList")}},created:function(){this.order_id=this.$route.query.order_id},methods:{getOrderDetail:function(){var e=this;return new Promise(function(o){e.$store.dispatch("toggleLoading"),e.$http.post(t.HOST+"/order_detail/"+e.order_id,{token:t.TOKEN,userid:t.USER_ID}).then(function(t){e.$store.dispatch("toggleLoading");var a=t.data;e.order_detail=a.data,o&&"function"==typeof o&&o()},function(t){e.$store.dispatch("toggleLoading")})})},getProductDetail:function(){var e=this;return new Promise(function(o){e.$http.post(t.HOST+"/product_detail/"+e.product_id,{token:t.TOKEN,userid:t.USER_ID}).then(function(t){var a=t.data;e.product_detail=a.data,o&&"function"==typeof o&&o()},function(t){})})},updateOrderAddress:function(){var e=this;this.$store.dispatch("toggleConfirm",{msg:"确认收货地址",callback:function(){e.$store.dispatch("toggleLoading"),e.$http.post(t.HOST+"/update_order_address/"+e.order_id,{token:t.TOKEN,userid:t.USER_ID,id:e.default_address.id}).then(function(o){var a=o.data;e.$store.dispatch("toggleLoading"),a.status===t.SUCCESS?e.getOrderDetail():e.$store.dispatch("toggleAlert",{msg:a.info})},function(t){e.$store.dispatch("toggleLoading")})}})},takeGoods:function(){var e=this;this.$store.dispatch("toggleConfirm",{msg:"点击确认后不可修改",msg_second:"请核对无误后点击确认!",callback:function(){e.$store.dispatch("toggleLoading"),e.$http.post(t.HOST+"/take_goods/"+e.order_id,{token:t.TOKEN,userid:t.USER_ID,take_word:e.take_code}).then(function(o){var a=o.data;e.$store.dispatch("toggleLoading"),a.status===t.SUCCESS?e.getOrderDetail():e.$store.dispatch("toggleAlert",{msg:a.info})},function(t){e.$store.dispatch("toggleLoading")})}})},useTicket:function(t){location.href=t},toggleEdit:function(){this.popup_edit=!this.popup_edit},toggleSelect:function(){this.order_checked||(this.popup_select=!this.popup_select)}}}}).call(e,o(4))},25:function(t,e,o){"use strict";t.exports=o(558)},294:function(t,e,o){e=t.exports=o(0)(),e.push([t.i,".order-detail[data-v-5dbf84af]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100%;background-color:#f2f3f4}.order-detail-content[data-v-5dbf84af]{-webkit-flex:1;-ms-flex:1;flex:1}.single-button[data-v-5dbf84af]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:1.2rem}.single-button.bg-white[data-v-5dbf84af]{margin-top:.2rem;background-color:#fff}.single-button .btn[data-v-5dbf84af]{width:5.17rem;height:.72rem}.address-box[data-v-5dbf84af]{background-color:#fff;background-image:url("+o(496)+");background-size:7.44rem .04rem;background-position:bottom;background-repeat:no-repeat}.address-box .location[data-v-5dbf84af]{width:.73rem}.address-box .location .iconfont[data-v-5dbf84af]{font-size:.3rem}.address-box .content[data-v-5dbf84af]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:1.57rem;margin-top:.2rem;padding:0 .3rem}.address-box .content .address-content[data-v-5dbf84af]{-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden}.address-box .content .address-detail[data-v-5dbf84af]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;text-align:justify;color:#646565}.address-box .content .icon-arrows-right[data-v-5dbf84af]{font-weight:700;font-size:.32rem;width:.6rem;text-align:right}.address-box .content.active .address-detail[data-v-5dbf84af],.address-box .content.active[data-v-5dbf84af]{color:#ff5000}.address-box .single-button[data-v-5dbf84af]{border-top:1px solid #f2f3f4}.address-box.no-address .content .plus[data-v-5dbf84af]{width:.8rem;height:.8rem;border-radius:.1rem;background-color:#ff5000;background-image:url("+o(497)+");background-size:.43rem .43rem;background-position:50%;background-repeat:no-repeat}.address-box.no-address .content .address-content[data-v-5dbf84af]{padding-left:.5rem;color:#646565;font-size:.32rem}.address-box.no-address .content .arrows[data-v-5dbf84af]{color:#ff5000;font-size:.36rem;font-weight:700}.take-goods[data-v-5dbf84af]{margin-top:.2rem;background-color:#fff;border-bottom:1px solid #d3d4d6}.take-goods h5[data-v-5dbf84af]{padding-left:.3rem;line-height:.76rem;color:#ff5000;border-bottom:1px solid #f2f3f4}.take-goods h5 .iconfont[data-v-5dbf84af]{font-size:.3rem}.input-box[data-v-5dbf84af]{padding:.3rem}.input-box .container[data-v-5dbf84af]{display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:.2rem;overflow:hidden}.input-box .form-control[data-v-5dbf84af]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-flex:1;-ms-flex:1;flex:1;float:left;height:.75rem;padding-left:.3rem;border:1px solid #f0c3c2;background-color:#fef6f5}.input-box .form-control.disable[data-v-5dbf84af]{background-color:#f2f3f4;border:1px solid #666}.input-box label[data-v-5dbf84af]{color:#3d4244;font-size:.32rem;width:1.2rem}.input-box input[data-v-5dbf84af]{width:3rem;background:none;border:none;text-indent:0;color:#ff5000;font-size:.2rem}.input-box .submit[data-v-5dbf84af]{float:left;height:.75rem;padding:0 .5rem;line-height:.75rem;background-color:#f0c3c2;color:#fff;font-size:.34rem}.input-box .disable[data-v-5dbf84af]{background-color:#666}.take-goods-script[data-v-5dbf84af]{position:absolute;right:.3rem;top:.76rem;width:2.23rem;height:1.26rem}.profile[data-v-5dbf84af]{margin-top:.2rem;padding:.23rem 0;background-color:#fff}.profile .iconfont[data-v-5dbf84af]{font-size:.3rem;margin-right:.12rem}.profile .content[data-v-5dbf84af]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:6.19rem;height:1.54rem;margin:0 auto;border:1px solid #f1d0cf;background-color:#fef6f5;color:#ff5000}.profile .content[data-v-5dbf84af]:active{background-color:#fde9e7}",""])},357:function(t,e,o){var a=o(294);"string"==typeof a&&(a=[[t.i,a,""]]);o(2)(a,{});a.locals&&(t.exports=a.locals)},496:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAugAAAAECAMAAADrnTpyAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAA8FBMVEUAAAAApf8ApP//TwAApf8Apf//UAD/TwAApf//TwAApf8Apf//UAAAp/8Af///TwD/UQAApP8Apf//UQAApf//UAAAo///TwAApf//UAD/TwD/UAAApP8Av/8Apf8ApP//TwD/fwD/TwD/TwAApf//UQD/TwD/UQD/TgAApP8ApP8ApP8Apv8Aqv//TwD/UAD/UAD/TwAApP8ApP//PwAApP8Aov8Apv8Apf8Apv8Apf8Apf//TwAAqv8Apf8Atv8ApP//TwD/VQD/UAAApP8ApP8ApP//UAD/TQD/UAD/TwD/UAAApP8Apf//UAAApf9U/lBUAAAATnRSTlMAZoq9iN2I3aqqRLs5IAJNQqT9L82uMsZbsiC7cwRp1IoC/aRHMs1bRPu4lisVwL8/QNr4BIcvQjlLTSVHDK4HWpYV+7SyvWkruHPUxngCOigCAAAA2UlEQVRIx93UtQ4EMQxF0VlmZmZmZmb+/79Zxb09jYsor746spTRaFr/i6+ric1++K5Q+AnDBIWTMFxsRp0wUlCUCaMp1R0cxpowHlAsCOOs1tv2CGAAwJsA5lDECMMtAm8YJ4JRLqNQxYliRRSZHG402jLdwWGMX7hxuotiN8SN0Uqpt9X/oS+J7/wChY8wElDECSPAZtQIowRFljBaUt3BYdwI4wDFhzAmar2t/g99a8E3hSJiwxeCwmjH52Ez8g58SSjSZnwdqe7gMJ5WfEco9gZ8G6Xe9g8AEU3sktfRhwAAAABJRU5ErkJggg=="},497:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAACyklEQVRYR+3Zz8tVZRAH8M+kURYZaGpGlJuojSiaEKaBCGFEZUlB/Rdug3YuFRWNCDFKUwRdZKt+aNAPCmwXklRkii2CMsrol5WPjDw3Xg5X3nO8l5crnIG7uDBnnu/53pl5vjM3jMFKKYHb8ABW4E58j0/wLf6NiDLqUXnIyFZKmYOVWIflmIcf8G4FfDYi/hn1oHGBTSY34/nK6g34Ex/hIN6OiN8mBey92IZNDUDf4HW8GhHnJwXsEuzAUw1A32E/dkfEj5MEdieeHAL2TeyaNLDbsbEBNjtBgn25B3steVVKyZztmZ1K3rj6bM9sMyV7Zqcw0reua+lY/z9TSrmnXrdPD7kUBtftxGiD+XgFzw4RMq9lD46Iv0diBFcKrJRyYxXPs/Nrx6Dpn8xuwWONZ8/gCPbip8F5LeInroybn3zJ3yPiUpRSbqkKfy0WpKqvwdqATp//cAc21DhTsfyML/A5LiB1bpsOlH5pCTRf+NOIOJNgU92vwRNY2BFsBkywN1fAtzZYy+kgRfevuIhZLVhNl/QbsJod5RA+S7Apmh+uY0mmQRcbsN+GrS6+AwyXMgVqKr2fYN/CQ1jUBeUM+36I9xJsKvzVWDXDANoel2l2FFeYfRxZXM/gvrYRZtDva2T7+yDBZiXnvL8e9yPH6q6WHWUpFjcezHw7h9O1wLrG/Qun8A6+HPTZmzC3Ah20jS6B78ZLeLTx0FlkTexDtrGulgWWI/2FvFTaVPG0B5RS8kX34LmGc/6EeSFszaY+baBpHMYF9rrSBv2k0MyKcaVBz2zPbL/kGNJz+wKbQsrEjuLDlskpYHLlOXHL5OsK7NU232/UZXJOtyPZuArsLryIF6rUTJmZWvQEDuBwRPwyEtKWY/G0Z5RScqp9pO4NluH2+qfdcRzDVxGR0+1INi5mk8ncOTxYh8/c0GRxfYyT+GMc/zBeBq8oUccd8uBLAAAAAElFTkSuQmCC"},498:function(t,e,o){t.exports=o.p+"images/takeGoods.98d9df8af9e581c76eaa36ad187f97c5.png"},558:function(t,e,o){o(357);var a=o(1)(o(218),o(599),"data-v-5dbf84af",null);t.exports=a.exports},599:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.content_show,expression:"content_show"}],staticClass:"order-detail "},[a("div",{staticClass:"order-detail-content"},[a("v-order",{attrs:{img:t.order_detail.product_pic,id:t.order_detail.orderid,integral:t.order_detail.integral>>0,name:t.order_detail.product,"has-border":!0}},[t.is_virtual?[1==t.product_type||6==t.product_type?a("v-ticket",{attrs:{type:t.product_type,"order-detail":t.order_detail,"product-detail":t.product_detail}}):t._e(),t._v(" "),8==t.product_type?a("v-recharge",{attrs:{type:t.product_type,"get-order-detail":t.getOrderDetail,"order-detail":t.order_detail,"product-detail":t.product_detail}}):t._e(),t._v(" "),t.product_detail.content?a("v-introduction",{attrs:{title:"详细说明",content:t.product_detail.content}}):t._e(),t._v(" "),t.product_detail.content_use?a("v-introduction",{attrs:{title:"使用说明",content:t.product_detail.content_use}}):t._e(),t._v(" "),a("v-announcement",{attrs:{"has-border":5==t.product_type}}),t._v(" "),5==t.product_type?a("div",{staticClass:"single-button bg-white"},[a("button",{staticClass:"btn btn-orange",on:{click:function(e){t.useTicket(t.product_detail.url)}}},[t._v(" 前往使用 ")])]):t._e()]:[1==t.send_type?[1!=t.order_detail.status||t.address_list.length?[a("section",{staticClass:"address-box"},[a("div",{class:["content",{active:!t.order_checked}],on:{click:t.toggleSelect}},[a("div",{staticClass:"location"},[a("i",{staticClass:"iconfont icon-location "})]),t._v(" "),a("div",{staticClass:"address-content "},[a("h4",[a("span",[a("label",[t._v("收件人:")]),t._v(" "+t._s(t.default_address.contact))]),t._v(" "),a("span",{staticClass:"pull-right"},[t._v(t._s(t.default_address.phone))])]),t._v(" "),a("h4",{staticClass:"address-detail"},[a("label",[t._v("收货地址:")]),t._v(" "+t._s(t.default_address.province)+" "+t._s(t.default_address.city)+" "+t._s(t.default_address.country)+"\n                                        "+t._s(t.default_address.address)+"\n                                    ")])]),t._v(" "),t.order_checked?t._e():a("i",{staticClass:"iconfont icon-arrows-right"})]),t._v(" "),t.order_checked?t._e():a("div",{staticClass:"single-button"},[a("button",{staticClass:"btn btn-orange",on:{click:t.updateOrderAddress}},[t._v("确认地址")])])]),t._v(" "),1!=t.order_detail.status?a("v-logistics",{attrs:{"order-detail":t.order_detail}}):t._e(),t._v(" "),a("v-address-select",{attrs:{show:t.popup_select,"toggle-popup":t.toggleSelect,"default-id":t.default_address.id>>0}})]:[a("v-address-edit",{attrs:{show:t.popup_edit,"toggle-popup":t.toggleEdit}}),t._v(" "),a("div",{staticClass:"profile"},[a("div",{staticClass:"content",on:{click:t.toggleEdit}},[a("i",{staticClass:"iconfont icon-plus"}),t._v("完善个人信息\n                            ")])])]]:t._e(),t._v(" "),2==t.send_type?[3==t.order_detail.status?a("img",{staticClass:"take-goods-script",attrs:{src:o(498),alt:""}}):t._e(),t._v(" "),a("section",{staticClass:"take-goods"},[a("h5",[a("i",{staticClass:"iconfont icon-location"}),t._v(" 取货地址: "+t._s(t.order_detail.take_address)+" ")]),t._v(" "),3!=t.order_detail.status?a("main",{staticClass:"input-box"},[a("div",{staticClass:"container"},[a("div",{class:["form-control",{disable:4==t.order_detail.status}]},[a("label",{attrs:{for:"take-goods"}},[t._v("取货码:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.take_code,expression:"take_code"}],attrs:{type:"text",id:"take-goods",placeholder:"到达取货地址后,由商家输入",disabled:4==t.order_detail.status},domProps:{value:t.take_code},on:{input:function(e){e.target.composing||(t.take_code=e.target.value)}}})]),t._v(" "),2==t.order_detail.status?a("div",{staticClass:"submit",on:{click:t.takeGoods}},[t._v("确认")]):t._e(),t._v(" "),4==t.order_detail.status?a("div",{staticClass:"submit disable"},[t._v("已逾期")]):t._e()])]):t._e()]),t._v(" "),t.product_detail.content?a("v-introduction",{attrs:{title:"详细说明",content:t.product_detail.content}}):t._e(),t._v(" "),t.product_detail.content_use?a("v-introduction",{attrs:{title:"领取说明",content:t.product_detail.content_use}}):t._e(),t._v(" "),a("v-announcement",{attrs:{"has-border":!1}})]:t._e()]],2)],1),t._v(" "),a("v-support")],1)},staticRenderFns:[]}}});