webpackJsonp([2],{164:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(256),a=i.n(n);e.default={name:"activityDetail",components:{vDialog:a.a,quiz:function(t){i.e(19).then(function(){var e=[i(234)];t.apply(null,e)}.bind(this)).catch(i.oe)},scrap:function(t){i.e(57).then(function(){var e=[i(235)];t.apply(null,e)}.bind(this)).catch(i.oe)},game:function(t){i.e(26).then(function(){var e=[i(231)];t.apply(null,e)}.bind(this)).catch(i.oe)},shake:function(t){i.e(23).then(function(){var e=[i(238)];t.apply(null,e)}.bind(this)).catch(i.oe)},fortune:function(t){i.e(58).then(function(){var e=[i(230)];t.apply(null,e)}.bind(this)).catch(i.oe)},egg:function(t){i.e(22).then(function(){var e=[i(227)];t.apply(null,e)}.bind(this)).catch(i.oe)},machine:function(t){i.e(20).then(function(){var e=[i(232)];t.apply(null,e)}.bind(this)).catch(i.oe)},treasure:function(t){i.e(13).then(function(){var e=[i(241)];t.apply(null,e)}.bind(this)).catch(i.oe)},doll:function(t){i.e(14).then(function(){var e=[i(226)];t.apply(null,e)}.bind(this)).catch(i.oe)},card:function(t){i.e(18).then(function(){var e=[i(225)];t.apply(null,e)}.bind(this)).catch(i.oe)},tear:function(t){i.e(21).then(function(){var e=[i(239)];t.apply(null,e)}.bind(this)).catch(i.oe)},marble:function(t){i.e(15).then(function(){var e=[i(233)];t.apply(null,e)}.bind(this)).catch(i.oe)}},data:function(){return{activity_id:"",activity_detail:{},activity_type:"",free_times:"",dialog_show:!1,dialog:{}}},computed:{notice:function(){return this.free_times>0?"您还剩余"+this.free_times+"次免费机会":"消耗积分"+(this.activity_detail.integral>>0)},is_off:function(){return 1===this.activity_detail.status}},beforeRouteEnter:function(t,e,n){i(14)("http://m.goldmiao.com/yngame/air.min.1.0.1.js",function(){n()})},created:function(){var t=this;this.activity_id=this.$route.query.activity_id,this.getActivityDetail().then(function(e){t.activity_type=t.getActivityType(e.data.type)}),this.getFreeTimes()},methods:{getActivityDetail:function(){var e=this;return new Promise(function(i){e.$store.dispatch("toggleLoading"),e.$http.post(t.HOST+"/activity_detail_l/"+e.activity_id,{token:t.TOKEN,media_id:t.MEDIA_ID,user_id:t.USER_ID,open_id:t.OPEN_ID}).then(function(n){e.$store.dispatch("toggleLoading");var a=n.data;a.status===t.SUCCESS&&(e.activity_detail=a.data),i&&"function"==typeof i&&i(a)},function(t){e.$store.dispatch("toggleLoading")})})},getFreeTimes:function(){var e=this;this.$http.post(t.HOST+"/get_free_times/"+t.USER_ID,{token:t.TOKEN,userid:t.USER_ID,activity_id:this.activity_id}).then(function(i){var n=i.data;n.status===t.SUCCESS&&(e.free_times=n.data.free_times)})},freshFreeTimes:function(){this.$store.dispatch("getUserInfor"),this.getFreeTimes()},toOrderDetail:function(t){return function(){this.$router.push({name:"order_detail",query:{order_id:t}})}},getActivityType:function(t){var e="";return["scrap","quiz","game","shake","fortune","egg","machine","treasure","doll","card","tear","marble"].forEach(function(i,n){if(t===n+1)return void(e=i)}),e||"scrap"},toggleDialog:function(t){this.dialog=t,this.dialog_show=!this.dialog_show}}}}).call(e,i(4))},185:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"faliure",props:{dialog:Object,close:Function,func:Function,show:{type:Boolean,default:!1}},computed:{type:function(){return this.dialog.faliure||""}}}},194:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(247),a=i.n(n);e.default={name:"vDialog",components:{common:function(t){i.e(48).then(function(){var e=[i(244)];t.apply(null,e)}.bind(this)).catch(i.oe)},dice:function(t){i.e(37).then(function(){var e=[i(245)];t.apply(null,e)}.bind(this)).catch(i.oe)},reel:function(t){i.e(33).then(function(){var e=[i(252)];t.apply(null,e)}.bind(this)).catch(i.oe)},money:function(t){i.e(35).then(function(){var e=[i(250)];t.apply(null,e)}.bind(this)).catch(i.oe)},soccer:function(t){i.e(43).then(function(){var e=[i(253)];t.apply(null,e)}.bind(this)).catch(i.oe)},eliminate:function(t){i.e(47).then(function(){var e=[i(246)];t.apply(null,e)}.bind(this)).catch(i.oe)},stick:function(t){i.e(42).then(function(){var e=[i(254)];t.apply(null,e)}.bind(this)).catch(i.oe)},mario:function(t){i.e(45).then(function(){var e=[i(249)];t.apply(null,e)}.bind(this)).catch(i.oe)},gold:function(t){i.e(46).then(function(){var e=[i(248)];t.apply(null,e)}.bind(this)).catch(i.oe)},cat:function(t){i.e(49).then(function(){var e=[i(243)];t.apply(null,e)}.bind(this)).catch(i.oe)},twins:function(t){i.e(41).then(function(){var e=[i(255)];t.apply(null,e)}.bind(this)).catch(i.oe)},cake:function(t){i.e(50).then(function(){var e=[i(242)];t.apply(null,e)}.bind(this)).catch(i.oe)},pakour:function(t){i.e(44).then(function(){var e=[i(251)];t.apply(null,e)}.bind(this)).catch(i.oe)},faliure:a.a},props:{dialog:{type:Object,default:function(){return{}}},toggleDialog:Function,show:Boolean},computed:{type:function(){return this.dialog.type||"faliure"},style:function(){return this.dialog.style||"common"},callback:function(){return this.dialog.callback},callback_close:function(){return this.dialog.callback_close}},methods:{func:function(){this.callback&&this.callback(),this.toggleDialog()},close:function(){this.callback_close?this.callback_close():"faliure"===this.type&&this.callback&&this.callback(),this.toggleDialog()}}}},20:function(t,e,i){"use strict";t.exports=i(504)},247:function(t,e,i){"use strict";t.exports=i(525)},256:function(t,e,i){"use strict";t.exports=i(534)},262:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,".activity-detail[data-v-0626182f]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100%;background-color:#f2f3f4;overflow:hidden}.activity-detail-content[data-v-0626182f]{-webkit-flex:1;-ms-flex:1;flex:1}",""])},295:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,".faliure[data-v-6313b023]{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:fixed;left:50%;top:50%;z-index:6;width:5.4rem;height:5.81rem;margin-left:-2.7rem;margin-top:-2.905rem;border-radius:.3rem}.faliure .close[data-v-6313b023],.faliure[data-v-6313b023]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background-color:#fff}.faliure .close[data-v-6313b023]{-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;right:-.15rem;top:-.15rem;position:absolute;width:.5rem;height:.5rem;border-radius:50%}.faliure .icon-error[data-v-6313b023]{font-size:.25rem;font-weight:700}.faliure h1[data-v-6313b023]{height:.92rem;padding:.2rem 0 .1rem;font-size:.38rem;color:#fe112d}.faliure h1.title[data-v-6313b023]{height:1.36rem;line-height:1.36rem}.faliure h2[data-v-6313b023]{height:.44rem;line-height:.44rem}.faliure img[data-v-6313b023]{width:3.06rem;height:2.65rem;margin:.15rem 0 .4rem}.faliure .operation[data-v-6313b023]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:.59rem;border-radius:.1rem;font-size:.28rem}.faliure .operation.purple[data-v-6313b023]{width:2.41rem;background-color:#a401d6;color:#fff}.faliure .operation.purple[data-v-6313b023]:active{background-color:#9101bd}.faliure footer[data-v-6313b023]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:4.16rem}.faliure footer .operation[data-v-6313b023]{width:1.77rem}.faliure footer .operation[data-v-6313b023]:first-child{color:#feae2f;border:1px solid #feae2f}.faliure footer .operation[data-v-6313b023]:first-child:active{background-color:#fafafa}.faliure footer .operation[data-v-6313b023]:last-child{color:#fff;background-color:#feae2f;border:1px solid #feae2f}.faliure footer .operation[data-v-6313b023]:last-child:active{background-color:#fea416}",""])},307:function(t,e,i){e=t.exports=i(0)(),e.push([t.i,".v-dialog .bg-cover[data-v-8519efba]{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:5}",""])},325:function(t,e,i){var n=i(262);"string"==typeof n&&(n=[[t.i,n,""]]);i(2)(n,{});n.locals&&(t.exports=n.locals)},358:function(t,e,i){var n=i(295);"string"==typeof n&&(n=[[t.i,n,""]]);i(2)(n,{});n.locals&&(t.exports=n.locals)},370:function(t,e,i){var n=i(307);"string"==typeof n&&(n=[[t.i,n,""]]);i(2)(n,{});n.locals&&(t.exports=n.locals)},467:function(t,e,i){t.exports=i.p+"images/faliureDefault.1c952788443f7e8143b03a3139b0f251.png"},468:function(t,e,i){t.exports=i.p+"images/faliureLack.df9a79a01b8547d094787a27f116479d.png"},504:function(t,e,i){i(325);var n=i(1)(i(164),i(565),"data-v-0626182f",null);t.exports=n.exports},525:function(t,e,i){i(358);var n=i(1)(i(185),i(600),"data-v-6313b023",null);t.exports=n.exports},534:function(t,e,i){i(370);var n=i(1)(i(194),i(612),"data-v-8519efba",null);t.exports=n.exports},565:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"activity-detail"},[i("div",{staticClass:"activity-detail-content"},[i("keep-alive",[i(t.activity_type,{tag:"component",attrs:{"free-times":t.free_times>>0,"fresh-free-times":t.freshFreeTimes,"activity-detail":t.activity_detail,id:t.activity_id>>0,notice:t.notice,"to-order-detail":t.toOrderDetail,toggleDialog:t.toggleDialog,"is-off":t.is_off}})],1)],1),t._v(" "),i("v-dialog",{attrs:{show:t.dialog_show,dialog:t.dialog,"toggle-dialog":t.toggleDialog}}),t._v(" "),i("v-support")],1)},staticRenderFns:[]}},600:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"enlarge"}},[t.show?n("div",{staticClass:"faliure"},[n("div",{staticClass:"close",on:{click:t.close}},[n("i",{staticClass:"iconfont icon-error"})]),t._v(" "),"lack"===t.type?[n("h1",[t._v("积分不足")]),t._v(" "),n("h2",[t._v("赚取积分后再来吧～")]),t._v(" "),n("img",{attrs:{src:i(468)}}),t._v(" "),n("footer",[n("div",{staticClass:"operation",on:{click:t.close}},[t._v("知道了")]),t._v(" "),n("router-link",{staticClass:"operation",attrs:{to:{path:"earn_integral"},tag:"div"}},[t._v("\n                    赚取积分\n                ")])],1)]:[n("h1",{staticClass:"title"},[t._v(t._s(t.dialog.msg||"没中奖"))]),t._v(" "),n("img",{attrs:{src:i(467)}}),t._v(" "),n("div",{staticClass:"operation purple",on:{click:t.close}},[t._v(t._s(t.dialog.btn_text||"知道了"))])]],2):t._e()])},staticRenderFns:[]}},612:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-dialog"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"bg-cover"}),t._v(" "),"success"===t.type?i(t.style,{tag:"component",attrs:{close:t.close,func:t.func,dialog:t.dialog,show:t.show}}):i("faliure",{attrs:{close:t.close,func:t.func,dialog:t.dialog,show:t.show}})],1)},staticRenderFns:[]}}});